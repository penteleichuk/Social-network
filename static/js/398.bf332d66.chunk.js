"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[398],{3398:function(e,t,s){s.r(t),s.d(t,{default:function(){return X}});var i=s(2791),a=s(7581),o=s(6295),n=s(5671),r=s(3144),l=s(136),u=s(3668),c="ProfileInfo_profile__XM2oU",d="ProfileInfo_wrapper__mO+zt",p="ProfileInfo_photo__xlmyX",f="ProfileInfo_update__5kwCv",h="ProfileInfo_descrition__M7Sfa",m="ProfileInfo_info__lZgkT",x="ProfileInfo_children__IJUuh",v="ProfileInfo_title__az70G",j="ProfileInfo_text__9qdPw",_="ProfileInfo_status__YrBI5",g=s(184),N=function(e){(0,l.Z)(s,e);var t=(0,u.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isOwner:e.props.isOwner,editMode:!1,status:e.props.status},e.onStatusChangeHandler=function(t){e.setState({status:t.currentTarget.value})},e.editModeActivateHandler=function(){e.props.isOwner&&e.setState({editMode:!0})},e.editModeDeactivateHandler=function(){e.props.isOwner&&(e.setState({editMode:!1}),e.props.updateStatus(e.state.status))},e}return(0,r.Z)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,g.jsxs)("div",{className:_,children:[!this.state.editMode&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{onDoubleClick:this.editModeActivateHandler,children:this.props.status?this.props.status:"status"})}),this.state.editMode&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{onChange:this.onStatusChangeHandler,type:"text",value:this.state.status,autoFocus:!0,onBlur:this.editModeDeactivateHandler})})]})}}]),s}(i.Component),P=N,b=s(3174),k=s(4483),I=s(8683),S=function(e){var t=(0,I.Z)({},e),s=t.fullName,i=t.aboutMe,a=t.lookingForAJob,o=t.lookingForAJobDescription,n=t.contacts;return(0,g.jsxs)("div",{className:m,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(y,{title:"Full Name",value:s,isTrue:s,isFalse:"-"}),(0,g.jsx)(y,{title:"About Me",value:i,isTrue:i,isFalse:"-"}),(0,g.jsx)(y,{title:"Looking for a job",value:a,isTrue:"Yes",isFalse:"No"}),(0,g.jsx)(y,{title:"Description",value:o,isTrue:o,isFalse:"-"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(M,{title:"Facebook",value:n.facebook}),(0,g.jsx)(M,{title:"Twitter",value:n.twitter}),(0,g.jsx)(M,{title:"Github",value:n.github}),(0,g.jsx)(M,{title:"Youtube",value:n.youtube})]})]})},y=function(e){return(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("b",{className:v,children:e.title}),(0,g.jsx)("span",{className:j,children:e.value?e.isTrue:e.isFalse})]})},M=function(e){return(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("b",{className:v,children:e.title}),(0,g.jsx)("span",{className:j,children:e.value?e.value:"-"})]})},w=s(495),C=function(e){var t=e.profile,s=e.isOwner,n=e.status,r=e.updatePhoto,l=e.updateStatus,u=(0,a.I0)(),m=(0,i.useRef)(null);if(!t)return(0,g.jsx)(o.p,{});return(0,g.jsx)("div",{className:c,children:(0,g.jsxs)("div",{className:d,children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)("img",{src:t.photos.small||w,alt:""}),s&&(0,g.jsx)("input",{ref:m,type:"file",accept:".png, .jpg, .jpeg",style:{display:"none"},onChange:function(e){var t=e.target.files&&e.target.files[0];t&&u(r(t.name))}}),s&&(0,g.jsx)("button",{className:f,onClick:function(){return m&&m.current&&m.current.click()},children:(0,g.jsx)(k.G,{icon:b.r6c})}),(0,g.jsx)(P,{isOwner:s,status:n,updateStatus:l})]}),(0,g.jsx)("div",{className:h,children:(0,g.jsx)(S,{fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,contacts:t.contacts})})]})})},F=s(749),A={item:"Post_item__Yu4oG",itemImg:"Post_itemImg__O5UYi",itemText:"Post_itemText__Xg4iv",itemName:"Post_itemName__ih1Dx",itemLike:"Post_itemLike__8ey+c"},O=function(e){var t,s,i,a=null!==(t=e.profile)&&void 0!==t&&null!==(s=t.photos)&&void 0!==s&&s.small?e.profile.photos.small:w;return(0,g.jsxs)("div",{className:A.item,children:[(0,g.jsx)("div",{className:A.itemImg,children:a&&(0,g.jsx)("img",{src:a,alt:""})}),(0,g.jsxs)("div",{className:A.itemText,children:[(0,g.jsx)("div",{className:A.itemName,children:(null===(i=e.profile)||void 0===i?void 0:i.fullName)||"Khaby Lame"}),(0,g.jsx)("div",{className:A.itemMessage,children:e.message})]}),(0,g.jsxs)("div",{className:A.itemLike,children:[(0,g.jsx)(k.G,{icon:b.m6i})," ",e.likesCount]})]})},T=s(5705),D=s(132),J="MyPosts_posts__GSiZ2",Z="MyPosts_addPost__vrj7C",B="MyPosts_addPost__title__4EW3h",G="MyPosts_postsBlock__lB-pf",H=D.Ry({post:D.Z_().typeError("Invalid login").required("Required")}),U=function(e){return(0,g.jsx)(T.J9,{initialValues:{post:""},onSubmit:function(t,s){var i=s.resetForm;e.onSubmit(t.post),i({})},validationSchema:H,validateOnBlur:!0,children:function(e){var t=e.errors,s=e.touched,i=e.handleChange,a=e.handleBlur,o=e.isValid,n=e.dirty;return(0,g.jsx)(T.l0,{children:(0,g.jsxs)("div",{className:Z,children:[(0,g.jsxs)("div",{className:B,children:["Write a new post... ",s.post&&t.post&&(0,g.jsx)("span",{children:t.post})]}),(0,g.jsxs)("div",{className:"textarea",children:[(0,g.jsx)(T.gN,{className:"textarea",component:"textarea",name:"post",onBlur:a,onChange:i}),(0,g.jsx)("button",{disabled:!o&&!n,type:"submit",children:"Post"})]})]})})}})},L=(0,a.$j)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){return e((0,F.Wl)(t))}}}))((function(e){var t=e.posts.map((function(t,s){return(0,g.jsx)(O,{profile:e.profile,message:t.message,likesCount:t.likesCount},s)}));return(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(U,{onSubmit:e.addPost}),(0,g.jsx)("div",{className:J,children:t})]})})),Y={},q=function(e){var t=e.updatePhoto,s=e.updateStatus,i=e.profile,a=e.isOwner,o=e.status;return(0,g.jsx)("div",{className:"content",children:(0,g.jsxs)("div",{className:Y.profile,children:[(0,g.jsx)(C,{updatePhoto:t,isOwner:a,profile:i,status:o,updateStatus:s}),(0,g.jsx)(L,{})]})})},E=s(8880),R=s(7781),W=s(6871),X=(0,R.qC)((0,a.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId,isAuth:e.auth.isAuth}}),(function(){return{getProfile:F.Ai,getStatus:F.lR,updateStatus:F.Nf,updatePhoto:F.tU}})),E.E)((function(e){var t=e.match?e.match.params.userId:e.userId,s=(0,W.s0)(),o=(0,a.I0)();return(0,i.useEffect)((function(){t?(o(e.getProfile(+t)),o(e.getStatus(+t))):s("/login")}),[s]),(0,g.jsx)(q,{updatePhoto:F.tU,updateStatus:e.updateStatus,profile:e.profile,isOwner:!t,status:e.status})}))},495:function(e,t,s){e.exports=s.p+"static/media/author.1168184c9ae1af184634.jpeg"}}]);
//# sourceMappingURL=398.bf332d66.chunk.js.map