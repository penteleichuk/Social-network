"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[398],{3398:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var i=s(2791),a=s(364),n=s(6295),o=s(5671),r=s(3144),l=s(136),u=s(3668),c="ProfileInfo_profile__XM2oU",d="ProfileInfo_wrapper__mO+zt",p="ProfileInfo_photo__xlmyX",f="ProfileInfo_update__5kwCv",h="ProfileInfo_descrition__M7Sfa",m="ProfileInfo_info__lZgkT",v="ProfileInfo_children__IJUuh",x="ProfileInfo_title__az70G",j="ProfileInfo_text__9qdPw",_="ProfileInfo_status__YrBI5",g=s(184),N=function(t){(0,l.Z)(s,t);var e=(0,u.Z)(s);function s(){var t;(0,o.Z)(this,s);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).state={isOwner:t.props.isOwner,editMode:!1,status:t.props.status},t.onStatusChangeHandler=function(e){t.setState({status:e.currentTarget.value})},t.editModeActivateHandler=function(){t.props.isOwner&&t.setState({editMode:!0})},t.editModeDeactivateHandler=function(){t.props.isOwner&&(t.setState({editMode:!1}),t.props.updateStatus(t.state.status))},t}return(0,r.Z)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,g.jsxs)("div",{className:_,children:[!this.state.editMode&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{onDoubleClick:this.editModeActivateHandler,children:this.props.status?this.props.status:"status"})}),this.state.editMode&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{onChange:this.onStatusChangeHandler,type:"text",value:this.state.status,autoFocus:!0,onBlur:this.editModeDeactivateHandler})})]})}}]),s}(i.Component),P=N,b=s(3174),k=s(4483),y=s(8683),S=function(t){var e=(0,y.Z)({},t),s=e.fullName,i=e.aboutMe,a=e.lookingForAJob,n=e.lookingForAJobDescription,o=e.contacts;return(0,g.jsxs)("div",{className:m,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(I,{title:"Full Name",value:s,isTrue:s,isFalse:"-"}),(0,g.jsx)(I,{title:"About Me",value:i,isTrue:i,isFalse:"-"}),(0,g.jsx)(I,{title:"Looking for a job",value:a,isTrue:"Yes",isFalse:"No"}),(0,g.jsx)(I,{title:"Description",value:n,isTrue:n,isFalse:"-"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(w,{title:"Facebook",value:o.facebook}),(0,g.jsx)(w,{title:"Twitter",value:o.twitter}),(0,g.jsx)(w,{title:"Github",value:o.github}),(0,g.jsx)(w,{title:"Youtube",value:o.youtube})]})]})},I=function(t){return(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("b",{className:x,children:t.title}),(0,g.jsx)("span",{className:j,children:t.value?t.isTrue:t.isFalse})]})},w=function(t){return(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("b",{className:x,children:t.title}),(0,g.jsx)("span",{className:j,children:t.value?t.value:"-"})]})},M=s(495),O=function(t){var e=t.profile,s=t.isOwner,o=t.status,r=t.updatePhoto,l=t.updateStatus,u=(0,a.I0)(),m=(0,i.useRef)(null);if(!e)return(0,g.jsx)(n.p,{});return(0,g.jsx)("div",{className:c,children:(0,g.jsxs)("div",{className:d,children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)("img",{src:e.photos.small||M,alt:""}),s&&(0,g.jsx)("input",{ref:m,type:"file",accept:".png, .jpg, .jpeg",style:{display:"none"},onChange:function(t){var e=t.target.files&&t.target.files[0];e&&u(r(e.name))}}),s&&(0,g.jsx)("button",{className:f,onClick:function(){return m&&m.current&&m.current.click()},children:(0,g.jsx)(k.G,{icon:b.r6c})}),(0,g.jsx)(P,{isOwner:s,status:o,updateStatus:l})]}),(0,g.jsx)("div",{className:h,children:(0,g.jsx)(S,{fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,contacts:e.contacts})})]})})},A=s(749),C={item:"Post_item__Yu4oG",itemImg:"Post_itemImg__O5UYi",itemText:"Post_itemText__Xg4iv",itemName:"Post_itemName__ih1Dx",itemLike:"Post_itemLike__8ey+c"},F=function(t){var e,s,i,a=null!==(e=t.profile)&&void 0!==e&&null!==(s=e.photos)&&void 0!==s&&s.small?t.profile.photos.small:M;return(0,g.jsxs)("div",{className:C.item,children:[(0,g.jsx)("div",{className:C.itemImg,children:a&&(0,g.jsx)("img",{src:a,alt:""})}),(0,g.jsxs)("div",{className:C.itemText,children:[(0,g.jsx)("div",{className:C.itemName,children:(null===(i=t.profile)||void 0===i?void 0:i.fullName)||"Khaby Lame"}),(0,g.jsx)("div",{className:C.itemMessage,children:t.message})]}),(0,g.jsxs)("div",{className:C.itemLike,children:[(0,g.jsx)(k.G,{icon:b.m6i})," ",t.likesCount]})]})},D=s(5705),T=s(132),Z="MyPosts_posts__GSiZ2",J="MyPosts_addPost__vrj7C",B="MyPosts_addPost__title__4EW3h",G="MyPosts_postsBlock__lB-pf",H=T.Ry({post:T.Z_().typeError("Invalid login").required("Required")}),U=function(t){return(0,g.jsx)(D.J9,{initialValues:{post:""},onSubmit:function(e,s){var i=s.resetForm;t.onSubmit(e.post),i({})},validationSchema:H,validateOnBlur:!0,children:function(t){var e=t.errors,s=t.touched,i=t.handleChange,a=t.handleBlur,n=t.isValid,o=t.dirty;return(0,g.jsx)(D.l0,{children:(0,g.jsxs)("div",{className:J,children:[(0,g.jsxs)("div",{className:B,children:["Write a new post... ",s.post&&e.post&&(0,g.jsx)("span",{children:e.post})]}),(0,g.jsxs)("div",{className:"textarea",children:[(0,g.jsx)(D.gN,{className:"textarea",component:"textarea",name:"post",onBlur:a,onChange:i}),(0,g.jsx)("button",{disabled:!n&&!o,type:"submit",children:"Post"})]})]})})}})},E=(0,a.$j)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile}}),(function(t){return{addPost:function(e){return t((0,A.Wl)(e))}}}))((function(t){var e=t.posts.map((function(e,s){return(0,g.jsx)(F,{profile:t.profile,message:e.message,likesCount:e.likesCount},s)}));return(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(U,{onSubmit:t.addPost}),(0,g.jsx)("div",{className:Z,children:e})]})})),L={},Y=function(t){var e=t.updatePhoto,s=t.updateStatus,i=t.profile,a=t.isOwner,n=t.status;return(0,g.jsx)("div",{className:"content",children:(0,g.jsxs)("div",{className:L.profile,children:[(0,g.jsx)(O,{updatePhoto:e,isOwner:a,profile:i,status:n,updateStatus:s}),(0,g.jsx)(E,{})]})})},q=s(8880),R=s(7781),W=s(6871),X=s(5571),$=(0,R.qC)((0,a.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId,isAuth:t.auth.isAuth}}),(function(){return{getProfile:A.Ai,getStatus:A.lR,updateStatus:A.Nf,updatePhoto:A.tU}})),X.D,q.E)((function(t){var e=t.match?t.match.params.userId:t.userId,s=(0,W.s0)(),n=(0,a.I0)();return(0,i.useEffect)((function(){e?(n(t.getProfile(+e)),n(t.getStatus(+e))):s("/login")}),[s]),(0,g.jsx)(Y,{updatePhoto:A.tU,updateStatus:t.updateStatus,profile:t.profile,isOwner:!e,status:t.status})}))},5571:function(t,e,s){s.d(e,{D:function(){return c}});var i=s(8683),a=s(3366);var n=s(6871),o=s(364),r=s(184),l=["isAuth"],u=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,o.$j)(u)((function(e){var s=e.isAuth,o=function(t,e){if(null==t)return{};var s,i,n=(0,a.Z)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}(e,l);return s?(0,r.jsx)(t,(0,i.Z)({},o)):(0,r.jsx)(n.Fg,{to:"/login"})}))}},495:function(t,e,s){t.exports=s.p+"static/media/author.1168184c9ae1af184634.jpeg"}}]);
//# sourceMappingURL=398.a5b03a31.chunk.js.map